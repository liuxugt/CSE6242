import walkscore_frontend
import json

zipcodes = [
			"30301",
			"30302",
			"30303",
			"30304",
			"30305",
			"30306",
			"30307",
			"30308",
			"30309",
			"30310",
			"30311",
			"30312",
			"30313",
			"30314",
			"30315",
			"30316",
			"30317",
			"30318",
			"30319",
			"30320",
			"30321",
			"30322",
			"30324",
			"30325",
			"30326",
			"30327",
			"30328",
			"30329",
			"30331",
			"30332",
			"30333",
			"30334",
			"30336",
			"30337",
			"30338",
			"30339",
			"30340",
			"30341",
			"30342",
			"30343",
			"30344",
			"30345",
			"30346",
			"30348",
			"30349",
			"30350",
			"30353",
			"30354",
			"30355",
			"30356",
			"30357",
			"30358",
			"30359",
			"30360",
			"30361",
			"30362",
			"30364",
			"30366",
			"30368",
			"30370",
			"30371",
			"30374",
			"30375",
			"30377",
			"30378",
			"30380",
			"30384",
			"30385",
			"30388",
			"30392",
			"30394",
			"30396",
			"30398",
			"31106",
			"31107",
			"31119",
			"31126",
			"31131",
			"31139",
			"31141",
			"31145",
			"31146",
			"31150",
			"31156",
			"31192",
			"31193",
			"31195",
			"31196",
			"30301",
			"30302",
			"30303",
			"30304",
			"30305",
			"30306",
			"30307",
			"30308",
			"30309",
			"30310",
			"30311",
			"30312",
			"30313",
			"30314",
			"30315",
			"30316",
			"30317",
			"30318",
			"30319",
			"30320",
			"30321",
			"30322",
			"30324",
			"30325",
			"30326",
			"30327",
			"30328",
			"30329",
			"30331",
			"30332",
			"30333",
			"30334",
			"30336",
			"30337",
			"30338",
			"30339",
			"30340",
			"30341",
			"30342",
			"30343",
			"30344",
			"30345",
			"30346",
			"30348",
			"30349",
			"30350",
			"30353",
			"30354",
			"30355",
			"30356",
			"30357",
			"30358",
			"30359",
			"30360",
			"30361",
			"30362",
			"30363",
			"30364",
			"30366",
			"30368",
			"30369",
			"30370",
			"30371",
			"30374",
			"30375",
			"30377",
			"30378",
			"30380",
			"30384",
			"30385",
			"30388",
			"30392",
			"30394",
			"30396",
			"30398",
			"31106",
			"31107",
			"31119",
			"31126",
			"31131",
			"31136",
			"31139",
			"31141",
			"31145",
			"31146",
			"31150",
			"31156",
			"31192",
			"31193",
			"31195",
			"31196"
		]


city = "Atlanta"
state = "GA"

data = []

for zipcode in zipcodes:	
	zipcode_data = walkscore_frontend.data_for_zipcode(zipcode, city, state)

	if zipcode_data:

		print(zipcode + " OUI")
		zipcode_data.pop('price_range', None)
		zipcode_data.pop('neighborhoods', None)
		zipcode_data.pop('price_range', None)
		zipcode_data.pop('transit_score', None)
		zipcode_data.pop('bike_score', None)
		zipcode_data.pop('date', None)
		zipcode_data.pop('sort_date', None)
		zipcode_data.pop('lat', None)
		zipcode_data.pop('lng', None)
		data.append(zipcode_data)

	else:
		print(zipcode + " NON")

with open('zipcode_scores.json', 'w') as outfile:
    json.dump(data, outfile, indent=4)